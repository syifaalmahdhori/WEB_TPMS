<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tabel Data Sensor ‚Äì TPMS Fuzzy Sugeno</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body { background:#0b1220; color:#e9edf3; }

    /* ===== SIDEBAR ===== */
    :root {
      --sidebar-w: 256px;
      --sidebar-bg: #0e1626;
      --sidebar-border: #1f2b46;
      --sidebar-link: #c7d2e5;
      --sidebar-link-active-bg: #16233b;
      --sidebar-link-active: #ffffff;
    }
    .topbar { position: sticky; top: 0; z-index: 1050; background:#0b1220; border-bottom:1px solid #1f2b46; }
    .content-wrap { transition: margin-left .25s ease; }
    .sidebar {
      position: fixed; inset: 0 auto 0 0; width: var(--sidebar-w);
      background: var(--sidebar-bg); border-right:1px solid var(--sidebar-border);
      transform: translateX(-100%); transition: transform .25s ease; padding-top:60px; z-index:1040;
    }
    .sidebar.show { transform: translateX(0); }
    @media (min-width: 992px){
      .sidebar { transform: none; padding-top:0; }
      .content-wrap { margin-left: var(--sidebar-w); }
      .topbar .btn-toggle { display:none; }
    }
    .sidebar .brand { padding:16px 18px; border-bottom:1px solid var(--sidebar-border); font-weight:700; }
    .sidebar .nav-link { color:var(--sidebar-link); padding:10px 16px; border-radius:.5rem; margin:4px 8px; }
    .sidebar .nav-link:hover { background:rgba(255,255,255,.05); color:#fff; }
    .sidebar .nav-link.active { background:var(--sidebar-link-active-bg); color:var(--sidebar-link-active); }
    .sidebar small.section { display:block; color:#8fa1bf; padding:10px 18px 4px; margin-top:8px; text-transform:uppercase; font-size:.73rem; }

    /* ===== TABEL ===== */
    .card { background:#121a2b; border:1px solid #1f2b46; }
    .card-header { background:#0e1626; border-bottom:1px solid #1f2b46; color:#fff; }
    .table { color:#e9edf3; }
    .table thead th { background:#19253e; color:#9ec1ff; border-color:#1f2b46; }
    .table tbody tr:hover { background:rgba(255,255,255,0.05); }

    .btn-print { background:#00bcd4; color:#fff; border:none; }
    .btn-print:hover { background:#00a0b3; }

    /* ===== PRINT MODE ===== */
    @media print {
      body { background:white; color:black; }
      .sidebar, .topbar, #btnAddDummy, #btnPrint { display:none !important; }
      .card { border:none; }
      table { color:black; border-color:#555; }
      .table thead th { background:#eee; color:black; }
    }
  </style>
</head>
<body>
  <!-- TOPBAR -->
  <div class="topbar">
    <div class="container-fluid py-2 d-flex align-items-center justify-content-between">
      <button class="btn btn-outline-light btn-sm btn-toggle" onclick="toggleSidebar()">‚ò∞</button>
      <div class="small text-muted">TPMS ‚Äì Tabel Data Sensor</div>
    </div>
  </div>

  <!-- SIDEBAR -->
  <nav id="sidebar" class="sidebar">
    <div class="brand">TPMS Dashboard</div>
    <small class="section">Navigasi</small>
    <ul class="nav flex-column mb-2">
      <li class="nav-item"><a class="nav-link" href="index.html">Beranda</a></li>
      <li class="nav-item"><a class="nav-link" href="membership.html">Membership Function</a></li>
      <li class="nav-item"><a class="nav-link" href="rules.html">Aturan (Rule Base)</a></li>
      <li class="nav-item"><a class="nav-link" href="charts.html">Grafik & Hasil</a></li>
      <li class="nav-item"><a class="nav-link" href="realtime.html">Realtime</a></li>
      <li class="nav-item"><a class="nav-link active" href="table.html">Tabel Data</a></li>
      <li class="nav-item"><a class="nav-link" href="about.html">Tentang</a></li>
    </ul>
  </nav>

  <!-- MAIN CONTENT -->
  <main class="content-wrap">
    <div class="container py-4">
      <h1 class="h3 fw-bold mb-4">Tabel Data Sensor TPMS</h1>
      <p class="text-secondary mb-4">Tabel berikut menampilkan data pembacaan sensor (baik realtime maupun dummy) beserta hasil status dari metode Fuzzy Sugeno.</p>

      <div class="card mb-4">
        <div class="card-header d-flex justify-content-between align-items-center">
          <strong>Riwayat Pembacaan Sensor</strong>
          <div class="d-flex gap-2">
            <button id="btnAddDummy" class="btn btn-sm btn-outline-info">+ Tambah Data Dummy</button>
            <button id="btnPrint" class="btn btn-sm btn-print">üñ®Ô∏è Print Tabel</button>
          </div>
        </div>
        <div class="card-body table-responsive">
          <table class="table table-sm table-hover align-middle text-center" id="dataTable">
            <thead>
              <tr>
                <th>#</th>
                <th>Waktu</th>
                <th>Tekanan (psi)</th>
                <th>Suhu (¬∞C)</th>
                <th>Kecepatan (km/jam)</th>
                <th>Status</th>
                <th>Z (Crisp)</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>

      <footer class="text-center small text-secondary mt-4">¬© 2025 ‚Äì TPMS Fuzzy Sugeno</footer>
    </div>
  </main>

  <script>
    const $ = id => document.getElementById(id);
    function toggleSidebar(){ $('sidebar').classList.toggle('show'); }

    const tableBody = document.querySelector('#dataTable tbody');
    let counter = 1;

    function generateDummy(){
      const data = {
        tekanan: (18 + Math.random()*12).toFixed(1),
        suhu: (20 + Math.random()*10).toFixed(1),
        kecepatan: (30 + Math.random()*60).toFixed(1),
        z: (20 + Math.random()*60).toFixed(1)
      };
      data.status = data.z >= 70 ? 'Bahaya' : (data.z >= 40 ? 'Waspada' : 'Aman');
      return data;
    }

    function addRow(){
      const d = generateDummy();
      const time = new Date().toLocaleTimeString();
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${counter++}</td>
        <td>${time}</td>
        <td>${d.tekanan}</td>
        <td>${d.suhu}</td>
        <td>${d.kecepatan}</td>
        <td class="${d.status==='Aman'?'text-success':d.status==='Bahaya'?'text-danger':'text-warning'} fw-bold">${d.status}</td>
        <td>${d.z}</td>
      `;
      tableBody.prepend(row);
    }

    $('btnAddDummy').addEventListener('click', addRow);
    $('btnPrint').addEventListener('click', () => window.print());
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
